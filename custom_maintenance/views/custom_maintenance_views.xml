<odoo>
    <data>
        <!--
        
        <menuitem name="Maintenance"
            id="menu_main_pm"
            web_icon="custom_maintenance,static/description/icon.png"
            sequence="50"/>
        
        <menuitem id="menu_project_config" name="Configuration" parent="menu_main_pm"
            sequence="100"/>
        -->
        <!--
        <menuitem name="Maintenance"
            id="menu_main_pm"
            groups="group_maintenance_user"
            web_icon="custom_maintenance,static/description/icon.png"
            sequence="50"/>
        
        <menuitem id="menu_project_config" name="Configuration" parent="menu_main_pm"
            sequence="100" groups="maintenance.group_maintenance_user"/>
        -->
        
        <record id="custom_hr_equipment_view_form_inherit" model="ir.ui.view">
            <field name="name">equipment.form.inherit</field>
            <field name="model">maintenance.equipment</field>
            <field name="inherit_id" ref="maintenance.hr_equipment_view_form"/>
            <field name="priority">50</field>
            <field name="arch" type="xml">
                <xpath expr="//form/sheet/div[@class='oe_title']" position="replace">
                    <div class="oe_title pr-0" style="max-width: initial;">
                        <label for="name" class="oe_edit_only"/>
                        <h1 class="d-flex flex-row justify-content-between custom_kanban_state_h1">
                            <field name="name" class="o_task_name text-truncate" style="max-width: 688px; margin-right: auto;" string="Name" placeholder="Equipment Name"/>
                        </h1>
                    </div>
                </xpath>
                <!--Ajuste para adequar ao mÃ³dulo de RH-->
                <!--<xpath expr="//form/sheet/group/group/field[@name='owner_user_id']" position="replace">-->
                <xpath expr="//form/sheet/group/group" position="inside">
                    <field name="product_id"/>
                    <field name="kanban_state" class="ml-auto" modifiers="{'required':true}"/>
                </xpath>
            </field>
        </record>
        <record id="custom_hr_equipment_view_kanban" model="ir.ui.view">
            <field name="name">equipment.kanban.inherit</field>
            <field name="model">maintenance.equipment</field>
            <field name="inherit_id" ref="maintenance.hr_equipment_view_kanban"/>
            <field name="arch" type="xml">
                
                <xpath expr="//kanban/templates/t[2]/div/div[@class='o_dropdown_kanban dropdown']/div[@class='dropdown-menu']" position="replace">
                    <div class="dropdown-menu" role="menu">
                        <t t-if="widget.editable"><a role="menuitem" type="edit" class="dropdown-item">Edit...</a></t>
                        <t t-if="widget.deletable"><a role="menuitem" type="delete" class="dropdown-item">Delete</a></t>
                    </div>
                </xpath>                
                <xpath expr="//kanban/templates/t[2]/div/div[@class='oe_kanban_content']/div[@class='o_kanban_record_top']/b" position="replace">
                    <div class="oe_kanban_top_left" style="display: flex; align-items: center; min-height: 20px; flex: 1 1 auto;">
                        <b class="o_kanban_record_title"><field name="name"/><small><span t-if="record.model.raw_value"> (<field name="model"/>)</span></small></b>
                    </div>
                    <div class="oe_kanban_top_right" style="display: flex; align-items: center; min-height: 20px; flex: 0 1 auto;">
                        <field name="image_128" invisible="1"/>
                        <field name='image_128' widget="image" class="o_kanban_inline_block" options="{'preview_image': 'image_128'}" attrs="{'invisible':[('image_128', '=', False)]}"/>
                    </div>
                </xpath>
                <xpath expr="//kanban/templates/t[2]/div/div[@class='oe_kanban_content']/div[@class='o_kanban_record_bottom']/div[@class='oe_kanban_bottom_right']/img" position="replace">
                    <div class="custom_kanban_state_div">
                        <field name="kanban_state" widget="label_selection" invisible="context.get('fsm_mode', False)" modifiers="{'required':true}" options="{'classes': {'0': 'cm-0 ct-black', '1': 'cm-1 ct-black', '2': 'cm-2 ct-black', '3': 'cm-3 ct-black', '4': 'cm-4 ct-black', '5': 'cm-5 ct-black', '6': 'cm-6 ct-white', '7': 'cm-7 ct-white', '8': 'cm-8 ct-black', '9': 'cm-9 ct-white', '10': 'cm-10 ct-black'}}"/>
                    </div>
                </xpath>
                <xpath expr="//kanban/templates/t[2]/div" position="attributes">
                    <attribute name="t-attf-class">{{'border-cm-' + kanban_getcolor(record.color.raw_value)}} {{!selection_mode ? 'oe_kanban_color_' + kanban_getcolor(record.color.raw_value) : ''}} oe_kanban_card oe_kanban_global_click</attribute>
                </xpath>
                <xpath expr="//kanban/templates/t[1]/ul" position="inside">
                    <li t-if="record.kanban_state.raw_value"><b>Kanban State:</b> <t t-esc="record.kanban_state.value"/></li>
                </xpath>
            </field>
        </record>
    </data>
</odoo>
